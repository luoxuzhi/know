(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{529:function(s,t,e){"use strict";e.r(t);var a=e(53),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"_3-vue-node-mongodb-全栈商城"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-vue-node-mongodb-全栈商城"}},[s._v("#")]),s._v(" 3. vue+node+mongodb 全栈商城")]),s._v(" "),e("ol",[e("li",[e("p",[e("a",{attrs:{href:"https://mall.ncuxz.fun/#/goods",target:"_blank",rel:"noopener noreferrer"}},[s._v("项目链接"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[s._v("express/koa 安装过程")])])]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v("npm install "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("g express"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("generator\nnpm install "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("g koa"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("generator\nexpress "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("version\nexpress server\nkoa2 server\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("要代理/users 下面所有的二三四级路由 可以在后面添加**，只匹配二级路由添加一个*就可以")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("'/users/**':{\n    target:'http://localhost:3000'\n}\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[e("p",[s._v("设置二级域名\n"),e("img",{attrs:{src:s.$withBase("/assets/sub-domain.png")}})])]),s._v(" "),e("li",[e("p",[s._v("域名带二级目录设置\nurl 中带 path(imooc)访问并且实现按需加载,（如http://www.lxzfirstpro.cn/imooc/#/recommend）需要做以下两步")])])]),s._v(" "),e("p",[s._v("a. 修改 webpack 的配置如图，注意 imooc 前后的两个/不能缺少\n"),e("img",{attrs:{src:s.$withBase("/assets/folder-domain.png")}})]),s._v(" "),e("p",[s._v("b. 需在服务器的 dist 文件夹下新建 imooc 文件夹并且把打包好的文件全部放在 imooc 里面")]),s._v(" "),e("p",[s._v("如果需要二级目录下使用 history 模式，还需要添加以下配置")]),s._v(" "),e("p",[s._v("c. 修改 router 的 base 属性，如 sell 目录，则要添加/sell,所有的路由会在这后面自动拼接")]),s._v(" "),e("p",[s._v("d. 不允许生产环境调试则要修改 sourcemap")])])}),[],!1,null,null,null);t.default=r.exports}}]);